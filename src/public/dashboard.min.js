(()=>{var a,t=JSON.parse(document.currentScript.getAttribute("data-params")),d=function(){$("#toggle-dashboard").data("status","unlocked").html('<i class="fa-solid fa-lock-open fa-fw"></i>'),$("#dashboard-widgets .row[data-line]").each((function(a,t){$(t).append('<div class="add-widget"><button class="btn btn-outline-secondary btn-sm"><i class="fa-solid fa-plus fa-fw"></i></button></div>')}))};$("#toggle-dashboard").on("click",(function(){"locked"===$(this).data("status")?d():($("#toggle-dashboard").data("status","locked").html('<i class="fa-solid fa-lock fa-fw"></i>'),$(".add-widget").remove())})),$((function(){"unlocked"===$("#toggle-dashboard").data("status")&&d()})),$(document).on("click",".add-widget button",(function(){var d=$(this).closest("[data-line]");$.ajax({url:t.modal_route,type:"get",success:function(t){d.attr("data-active-line",1),a=bootbox.dialog({message:t,size:"large",onHide:function(){d.removeAttr("data-active-line")}})}})})),$(document).on("click",'[data-action="add-widget"]',(function(d){$.ajax({url:t.load_widget,type:"post",data:{slug:$(this).attr("data-slug")},success:function(t){$("[data-active-line]").find(".add-widget").before(t),a.modal("hide")}})}))})();