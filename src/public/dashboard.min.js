(()=>{var a,t=JSON.parse(document.currentScript.getAttribute("data-params")),d='<div class="d-line-break"></div>',e=function(){$("#toggle-dashboard").data("status","unlocked").removeClass("btn-outline-secondary").addClass("btn-danger").html('<i class="fa-solid fa-lock-open fa-fw"></i>'),$("#dashboard-widgets").append('<div class="dashboard-buttons d-flex flex-column justify-content-between"><button class="btn btn-outline-secondary btn-sm" data-action="select-widget"><i class="fa-solid fa-plus fa-fw"></i></button><button class="btn btn-outline-secondary btn-sm d-none" data-action="dashboard-add-line"><i class="fa-solid fa-fw fa-rotate-180 fa-share"></i></i></button></div>')};$("#toggle-dashboard").on("click",(function(){"locked"===$(this).data("status")?e():$("#toggle-dashboard").data("status","locked").removeClass("btn-danger").addClass("btn-outline-secondary").html('<i class="fa-solid fa-lock fa-fw"></i>')})),$((function(){"unlocked"===$("#toggle-dashboard").data("status")&&e()})),$(document).on("click",'[data-action="select-widget"]',(function(){var d=$(this).closest("[data-line]");$.ajax({url:t.modal_route,type:"get",success:function(t){d.attr("data-active-line",1),a=bootbox.dialog({message:t,size:"large",onHide:function(){d.removeAttr("data-active-line")}})}})})),$(document).on("click",'.dashboard-widget-tools [data-action="remove"]',(function(){$(this).closest(".dashboard-widget").remove()})),$(document).on("click",'.dashboard-widget-tools [data-action="new-line"]',(function(){$(this).closest(".dashboard-widget").after(d)})),$(document).on("click",'[data-action="add-widget"]',(function(){$("[data-active-line]");$.ajax({url:t.load_widget,type:"post",data:{slug:$(this).attr("data-slug")},success:function(t){$("#dashboard-widgets").find(".dashboard-buttons").before(t),$(".dashboard-widget-tools").remove(),$(".dashboard-widget").append('<div class="dashboard-widget-tools d-flex flex-column justify-content-between">    <div class="d-flex justify-content-between">        <i class="fa fa-solid fa-square-plus" data-action="add-before"></i>        <i class="fa fa-solid fa-square-plus" data-action="add-after"></i>    </div>    <div class="d-flex justify-content-center">        <i class="fa-solid fa-trash-can" data-action="remove"></i>    </div>    <div class="d-flex justify-content-between align-items-center">        <span>            <i class="fa-solid fa-square-caret-left" data-action="move-left"></i>            <i class="fa-solid fa-square-caret-right" data-action="move-right"></i>        </span>        <span><i class="fa-solid fa-share fa-rotate-180" data-action="new-line"></i></span>    </div></div>'),a.modal("hide"),$('[data-action="dashboard-add-line"]').removeClass("d-none")}})})),$(document).on("click",'[data-action="dashboard-add-line"]',(function(){$(".dashboard-buttons").before(d),$('[data-action="dashboard-add-line"]').addClass("d-none")}))})();